# STORASENSE - PROJEKTÜBERSICHT

# Einführung und Ziele

Ziel des Projekts **"Storasense"** ist die Entwicklung eines softwaregestützten Überwachungssystems zur kontinuierlichen Kontrolle der Umgebungsbedingungen in Lagerräumen.
Das System dient der Qualitätssicherung und Verlustprävention bei der Lagerung verderblicher oder sensibler Güter, die spezifische klimatische Bedingungen erfordern.

Der primäre Anwendungsbereich umfasst die Überwachung von Lagern für wertvolle Güter – wie beispielsweise Lebensmittel oder Pharmazeutika - , deren Qualität von insbesondere folgenden Faktoren abhängig ist:

- **Temperatur**: Einhaltung eines konstanten, kühlen Niveaus. <br>
- **Luftfeuchtigkeit**: Vermeidung von zu hoher oder zu niedriger Feuchtigkeit. <br>
- **Luftqualität**: Sicherstellung einer reinen, insbesondere von Schadstoffen (Kohlenstoffdioxid) freien Umgebung. <br>
- Weiter erfolgt die Kontrolle des Lagerraums im Zuge der Überwachung des **Zustandes der Eingangstür (offen / geschlossen)**.

# Funktionale Anforderungen (Fachlichkeit)
Es gilt ein System zu entwickeln, das sowohl aus **Hardware**- als auch aus **Software-** Komponenten besteht, die ineinandergreifen.

**Sensorik (Hardware)**: Ein Netzwerk von IoT erfasst die physikalischen Messgrößen alle 5 Sekunden. Folgende 5 Sensortypen werden unterstützt:

* **Temperatursensor (Innen)**: Messung der Raumteperatur.
* **Temperatursensor (Außen)**: Messung der Außentemperatur.
* **Luftfeuchtigkeitssensor**: Erfassung der relativen Luftfeuchtigkeit.
* **Luftqualitätssensor**: Detektion des Kohlenstoffdioxidgehaltes in der Luft.
* **Ultraschallsensor**: Zur Überprüfung des Zustandes der Tür – ist die Tür offen oder geschlossen.

**Software-Plattform (Kernsystem)**: Eine zentrale Anwendung, für die Nutzer über eine **Weboberfläche** zugreifbar, die folgende Funktionalitäten bereitstellt:

* **Timeline-Dashboard**: Permanente Speicherung und grafische Visualisierung aller alle 5 Sekunden veröffentlichter Sensorwerte. Insgesamt zeigt die Timeline je Sensor die Werte der letzen Stunde an.
* **Historische Datenanalyse**: Speicherung und Darstellung von Schlüsselwerten der Messdaten über Zeit (beispielsweise Durchschnittswert der letzten 30 Tage), um Trends und Muster zu erkennen.
* **Konfigurierbare Schwellenwerte / Festlegen eines Toleranzbereichs**: Ermöglicht dem Akteur (Lagerverantwortlicher), für jeden Sensor individuelle Min/Max-Grenzwerte zu definieren.
* **Automatisiertes Alarmsystem**: Zeigt bei Grenzwertverletzungen ("Alarm wird ausgelöst") eine Übersicht der Grenzwertverletzung in der Software-Plattform an - innerhalb der nächsten 90 Sekunden nach Alarmerkennung.
* **Proaktive Gegensteuerung**: Bei einem kritischen Ereignis ("Alarm wurde ausgelöst") sollen IoT-Geräte befähigt werden proaktiv auf den Misstand des Lagerortes reagieren zu können. Hierfür sendet das System eine MQTT-Nachricht an ein dediziertes MQTT-Topic, worauf sich jene Aktoren (beispielsweise ein intelligentes Kühlaggregat) abbonnieren können, um die Nachricht über einen Alarm zu empfangen und automatisiert Gegenmaßnahmen auszuführen (zum Beispiel Kühlaggregat aschalten).
* **Nutzer**: Das System verwaltet bis zu 500 Benutzer, die verschiedene Rollen einnehmen können - Admin / Contributor. Admins sind "Hausherren" eines Lagerortes und können alle Einstellungen vornehmen. Contributors haben nur Leserechte.
* **Lagerorte**: Das System bietet die Verwaltung von bis zu 500 Lagerorten an.
* **Sensorik**: Je Lagerort, lässt sich jeweils einer der 5 definierten Sensortypen (s.o.) registrieren. Diese werden mit einem Min/Max-Schwellwert konfiguriert.
<br>
</br>

| ID      | Titel                    | Beschreibung                                                                                                   | Akteure/Rollen                   | Komponente                           | Daten/Trigger         | Erfolgskriterium                       | Qualitäts-/Zeitbezug           |
|---------|--------------------------|----------------------------------------------------------------------------------------------------------------|----------------------------------|--------------------------------------|-----------------------|-----------------------------------------|-------------------------------|
| FR-1    | Sensorerfassung 5s       | Ein Netzwerk von IoT-Sensoren erfasst alle 5 Sekunden Messwerte. 5 Sensortypen werden unterstützt.             | Sensorgeräte, System             | Hardware Sensorik                    | Zeittrigger 5s        | Werte landen zuverlässig im System      | Kontinuität, Echtzeitnähe      |
| FR-1.1  | Temp innen               | Messung der Raumtemperatur (Innen).                                                                            | Sensorgerät, System              | Hardware Sensorik                    | Messzyklus 5s         | Wert verfügbar                         | Abdeckung Sensor-Typen         |
| FR-1.2  | Temp außen               | Messung der Außentemperatur.                                                                                   | Sensorgerät, System              | Hardware Sensorik                    | Messzyklus 5s         | Wert verfügbar                         | Abdeckung Sensor-Typen         |
| FR-1.3  | Luftfeuchte              | Erfassung der relativen Luftfeuchtigkeit.                                                                      | Sensorgerät, System              | Hardware Sensorik                    | Messzyklus 5s         | Wert verfügbar                         | Abdeckung Sensor-Typen         |
| FR-1.4  | Luftqualität CO₂         | Detektion des CO₂-Gehaltes.                                                                                    | Sensorgerät, System              | Hardware Sensorik                    | Messzyklus 5s         | Wert verfügbar                         | Abdeckung Sensor-Typen         |
| FR-1.5  | Türstatus                | Ultraschall zur Erkennung „Tür offen/geschlossen“.                                                             | Sensorgerät, System              | Hardware Sensorik                    | Messzyklus 5s         | Wert verfügbar                  | Abdeckung Sensor-Typen         |
| FR-2    | Timeline-Dashboard       | Permanentes Speichern und Visualisieren aller 5‑Sekunden‑Sensorwerte; Anzeige der letzten Stunde je Sensor.    | Admin, Contributor               | Software Plattform (Web - Dashboard) | neue Messwerte        | Kurve/Verlauf pro Sensor sichtbar       | Visualisierungsnutzen, 1h Sicht |
| FR-3    | Historische Analyse      | Speicherung und Darstellung von Schlüsselwerten über Zeit (z. B. Durchschnitt der letzten 30 Tage) zur Trend‑Erkennung. | Admin, Contributor               | Software Plattform (Web - Analytics) | Abfragen/Jobs         | Kennzahlen abrufbar                    | Verständliche Trends/Muster     |
| FR-4    | Schwellenwerte           | Konfigurierbare Min/Max‑Grenzen je Sensor durch Lagerverantwortliche.                                          | Admin                            | Software Plattform (Web - Sensors)   | Benutzeraktion        | Werte gespeichert und gültig            | Korrekte Validierung/Anwendung  |
| FR-5    | Alarmierung              | Bei Grenzwertverletzung Anzeige einer Alarmübersicht innerhalb von 90 Sekunden nach Erkennung.                 | Admin, Contributor               | Software Plattform (Web - Alarms)    | Schwellenverletzung   | Alarm sichtbar ≤ 90 s                   | Reaktionszeit ≤ 90s             |
| FR-6    | Proaktive Gegensteuerung | Bei Alarm sendet das System eine MQTT‑Nachricht an ein dediziertes Topic; Aktoren können abonnieren und automatisiert reagieren (z. B. Kühlung einschalten). | Software Plattform / Aktorgeräte | Plattform/IoT‑Integration (MQTT)     | Alarmereignis         | MQTT‑Publish auf Topic                  | Entkopplung, Ereignisgesteuert  |
| FR-7    | Nutzerverwaltung         | Verwaltung bis zu 500 Benutzern mit Rollen Admin/Contributor; Admin volle Rechte, Contributor lesen.            | Admin                            | Software Plattform (Web, IAM)        | Benutzeranlage/‑login | Rollen greifen                          | Skalierung Nutzer 500           |
| FR-8    | Lagerorte                | Verwaltung bis zu 500 Lagerorten.                                                                              | Admin                            | Software Plattform (Web - Storages)  | Anlage/Verwaltung     | Orte angelegt/auffindbar                | Skalierung Orte 500             |
| FR-9    | Sensor je Lagerort       | Je Lagerort Registrierung eines der 5 Sensortypen inkl. Min/Max‑Schwellwert‑Konfiguration.                    | Admin                            | Software Plattform (Web - Sensors)   | -                    | -                                       | -                              |

# Use-Case-Szenarien
Die folgenden Szenarien beschreiben beispielhaft die wichtigsten Anwendungsfälle des Systems:

## Primärer Use-Case: Kontinuierliche Überwachung im Normalbetrieb
| Phase           | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                         |
|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Vorbedingungen  | Das System ist online und eingestellt. Die Schwellenwerte für alle Sensoren sind konfiguriert.                                                                                                                                                                                                                                                                                                       |
| Ablauf          | 1. Die Sensoren erfassen alle 5 Sekunden die Umgebungsdaten.<br>2. Die Daten werden an die zentrale Software-Plattform übertragen.<br>3. Die Plattform validiert die Daten und vergleicht sie kontinuierlich mit den hinterlegten Schwellwerten.<br>4. Solange alle Messwerte innerhalb der definierten Toleranzbereiche liegen, protokolliert das System die Daten und löst kein Alarmereignis aus. |
| Nachbedingungen | Die Qualität der gelagerten Güter bleibt gesichert.                                                                                                                                                                                                                                                                                                                                                  |

## Sekundärer Use-Case: Abweichung und Alarmierung
| Phase           | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Trigger         | Ein Sensor meldet einen Messwert, der einen konfigurierten Schwellenwert über- oder unterschreitet \(z\.B\. Temperatur > 18 °C\)\.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Ablauf          | 1\. Das System identifiziert die Grenzwertverletzung und klassifiziert das Ereignis als Alarm\.<br>2\. Ein Alarmereignis wird ausgelöst und es passieren ggf\. folgende zwei Aktionen:<br>&nbsp;&nbsp;1\. Das System versendet sofort eine Übersicht über das Alarmereignis an die Weboberfläche, wo sie alle Mitglieder eines Lagerortes einsehen können. <br> Die Nachricht enthält: den betroffenen Sensor, eine kurze Nachricht mit Messwert und wann die Verletzung festgestellt wurde \.<br>&nbsp;&nbsp;2\. Das System sendet eine MQTT\-Nachricht an das MQTT-Topic\. Ein auf das Topic abonnierter Aktor, z\.B\. ein IoT\-Gerät, könnte daraufhin eine Gegenmaßnahme ausführen\.<br>3\. Der verantwortliche Akteur sieht die Nachricht im Dashboard, analysiert die Situation und leitet Gegenmaßnahmen ein\.<br>4\. Nach Behebung der Ursache kann der Akteur den Alarm im System entfernen\. |
| Nachbedingungen | Der potenzielle Schaden an den Lagergütern wurde durch rechtzeitige Intervention verhindert\. Der Vorfall ist für spätere Analysen dokumentiert\.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

# Stakeholder
| Stakeholder      | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Kunde            | - Eigentümer eines Lagerortes (**"Admin"**) - verantwortlich für Installation, Konfiguration und Wartung des Systems für seinen Lagerort. <br> - Kann mehrere Lagerorte verwalten <br>  - Verwaltet die Nutzer und Sensoren eines Lagerortes und nutzt die Daten (Dashboard, Analytics, Alarms) für Prozessoptimierung, Qualitätsaudits und Eingriffe. <br> - Kann Mitglieder, also weitere Nutzer (**"Contributor"**), seinem Lagerort hinzufügen. <br> - Contributor haben lesenden Zugriff auf alle Daten eines Lagerorts und können darauf basierend ebenso die Daten für Prozessoptimierung, Qualitätsaudits und Eingriffe nutzen. <br> - Kann Aktore (z.B. IoT-Geräte) auf das MQTT-Topic subscriben, um automatisiert auf Alarme zu reagieren. |
| Contributor      | - Hinzugefügte Nutzer mit Leserechten je Lagerort. <br> - Erwartet konsistente Visualisierung, klare Historien/Trends und nachvollziehbare Alarme. <br> - Erwartet stabile Weboberfläche und performante Abfragen ohne Schreibrechte.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Entwicklungsteam | - Sind am Projekterfolg interessiert. Dieser setzt die Umsetzung der zuvor definierten funktionalen und nicht funktionalen Anforderungen vorraus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |


# Qualitätsziele
Es lassen sich folgende Qualitätsziele, gestützt durch Qualitätsszenarien, definieren:

## NFR-1 Erweiterbarkeit der Software-Plattform

### Szenario 1: Erweiterung des Platform-Teilsystems „Monitoring“
Dieses Szenario definiert die Fähigkeit, die **Funktionalität des bestehenden Überwachungssystems zu erweitern**, ohne das Kernsystem zu verändern.
Ein typischer Fall ist die **Anbindung eines neuen Sensortyps**.

| Attribut        | Beschreibung                                                                                                                                                                                                                                                      |
|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Szenarioname    | Erweiterung Überwachungssystem                                                                                                                                                                                                                                    |
| Quelle          | Kernentwickler / Externer Entwickler                                                                                                                                                                                                                              |
| Stimulus        | Es besteht die Anforderung, einen neuen, bisher nicht unterstützten Sensortyp in das System zu integrieren.                                                                                                                                                       |
| Artefakt        | Das System „Überwachung“                                                                                                                                                                                                                                          |
| Umgebung        | System befindet sich in der Entwicklung / Wartung                                                                                                                                                                                                                 |
| Reaktion        | Die Software-Architektur des Monitoring-Teilsystems ermöglicht die Anbindung des neuen Sensortyps. Bestehende Funktionen (wie die Verarbeitung der Daten von Temperatur- oder Feuchtigkeitssensoren) bleiben davon unberührt und funktionieren weiterhin korrekt. |
| Reaktionsmaß    | Die Integration des neuen Sensortyps (inklusive Datenverarbeitung, Speicherung und Visualisierung) ist von einem Entwickler innerhalb von sieben Tagen ohne Regressionsfehler in anderen Teilen des Systems umsetzbar.                                            |

### Szenario 2: Erweiterung der Plattform um neue Teilsysteme
Dieses Szenario beschreibt die **Erweiterbarkeit der gesamten Plattform-Architektur**.
Das Ziel ist es, komplett neue Funktionalitätsblöcke als eigenständige Teilsysteme hinzuzufügen, wie zum Beispiel **eine dedizierte "Anleitungsbibliothek" je Lagerort**.
Dabei soll bestehende zentrale Funkktionalität wiederverwendet werden.

| Attribut      | Beschreibung                                                                                                                                                                                                                                                                                                                                                                             |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Szenarioname  | Erweiterung Plattform                                                                                                                                                                                                                                                                                                                                                                    |
| Quelle        | Kernentwickler / Externer Entwickler                                                                                                                                                                                                                                                                                                                                                     |
| Stimulus      | Die Plattform soll um ein neues Teilsystem "Anleitungsbibliothek" erweitert werden, das es Nutzern ermöglicht, Handlungsanweisungen zu hinterlegen und abzurufen.                                                                                                                                                                                                                        |
| Artefakt      | Die gesamte Software-Plattform, insbesondere ihre Kernarchitektur und die definierten Schnittstellen.                                                                                                                                                                                                                                                                                    |
| Umgebung      | System befindet sich in der Weiterentwicklung                                                                                                                                                                                                                                                                                                                                            |
| Reaktion      | Die Plattform-Architektur stellt klar definierte Erweiterungspunkte beziehungsweise eine offene API bereit.<br>Das neue Teilsystem kann als eigenständiges Modul oder Service entwickelt und in die Plattform integriert werden, ohne den Code der bestehenden Teilsysteme zu modifizieren.<br>Bestehende Plattformlogik (z.B. Benutzerverwaltung) wird wiederverwendet bzw. integriert. |
| Reaktionsmaß  | Das neue Teilsystem kann ohne Ausfallzeit des Gesamtsystems ("Zero Downtime Deployment") in Betrieb genommen werden.<br>Der Entwicklungsaufwand für die reine Integration (Anbindung an die zentrale Navigation, Benutzerverwaltung, etc.) beträgt weniger als eine Woche.                                                                                                               |


## NFR-2 Performance der Alarmierung

### Szenario: Alarmierungszeit ≤ 90 Sekunden ab Detektion der Grenzwertüberschreitung
Ein rasches Überschreiten oder Unterschreiten definierter Schwellenwerte der
Umgebungsparameter – wie Temperatur, oder Luftfeuchtigkeit – kann potenziell erhebliche
Schäden verursachen. Ziel des Alarmierungssystems ist es daher, eine zuständige Entität
(z.B. eine Nutzerperson oder ein autonom agierendes IoT-System) innerhalb kürzester
Zeit - **90 Sekunden nach Detektion eines individuellen Ausreißer-Messwertes** - zu informieren, um präventive oder mitigierende
Maßnahmen einzuleiten.

Das Informieren erfolgt dabei dual:

* **Web-UI** in der Software-Plattform, die alle Mitglieder eines Lagerortes einsehen können
* **MQTT-Nachricht** an ein MQTT-Topic zur automatisierten Weiterverarbeitung durch angeschlossene Systeme

| Attribut        | Beschreibung                                                                                                                                                                        |
|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Szenarioname    | Schnelles Alarmierungssystem                                                                                                                                                        |
| Quelle          | Sensorik / Arduino / Software-Plattform (z\.B\. App)                                                                                                                                |
| Stimulus        | Gemessener individueller Messwert verletzt den festgelegten Toleranzbereich.                                                                                                        |
| Artefakt        | Arduino mit Sensorik, Die Software inklusive Web-UI und MQTT\-Publisher\.                                                                                                           |
| Umgebung        | Das System befindet sich im produktiven Normalbetrieb\.                                                                                                                             |
| Reaktion        | Durch kontinuierliche Datenübertragung kann schnell ein abnormaler Zustand detektiert werden\. Daraufhin werden betreffende Entitäten alarmiert – Nutzer und ggf\. weitere Systeme\. |
| Reaktionsmaß    | Nach Detektion wird innerhalb von 90 Sekunden sowohl ein Alarm in der Web-UI dargestellt, als auch eine MQTT\-Nachricht versendet\.                                                 |

## NFR-3 Sicherheit

### Szenario: Sichere Authentifizierung und Autorisierung
Dieses Szenario stellt sicher, dass sich beliebige Personen selbst registrieren können, aber nach Anmeldung nur die Aktionen und Daten sehen dürfen, die ihren zugewiesenen Rollen je Lagerort („Admin“, „Contributor“) entsprechen; nicht zugewiesene Lagerorte mit ihren zugehörigen Daten (z.B. Messwerte der Sensoren eines Lagerorts) bleiben strikt unzugänglich.

| Attribut        | Beschreibung                                                                                                                                                                                                                                                                                                                  |
|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Szenarioname    | Authentifizierungs- / Autorisierungs- Service mit Rollensystem                                                                                                                                                                                                                                                                |
| Quelle          | Ein registrierter Nutzer (z.B. ein Admin oder Contributor).                                                                                                                                                                                                                                                                   |
| Stimulus        | Der Nutzer versucht, sich über die Login-Maske der Plattform am System anzumelden, um auf das Dashboard zuzugreifen oder Konfigurationen vorzunehmen.                                                                                                                                                                         |
| Artefakt        | Authentifizierungs-, Autorisierungs-Service der Software-Plattform.                                                                                                                                                                                                                                                           |
| Umgebung        | Das System befindet sich im produktiven Normalbetrieb\.                                                                                                                                                                                                                                                                       |
| Reaktion        | Das System validiert die eingegebenen Anmeldedaten (Benutzername und Passwort) gegen die hinterlegte Datenbank. Bei erfolgreicher Authentifizierung gewährt das System dem Nutzer Zugriff entsprechend seiner zugewiesenen Lagerote und zugewiesenen Rollen (Lesezugriff für einen Contributor, Vollzugriff für einen Admin). |
| Reaktionsmaß    | Die Anmeldung eines Nutzers erfolgt in weniger als 30 Sekunden.                                                                                                                                                                                                                                                               |

## NFR-4 Verfügbarkeit

### Szenario 1: Fehlertoleranz und automatische Wiederherstellung
Kritische Lagerbedingungen erfordern ein System, das möglichst durchgängig verfügbar ist, um eine lückenlose Überwachung sicherzustellen.
Falls das System über einen längeren Zeitraum nicht verfügbar ist, ist der Zustand des Lagerguts unbekannt, und es könnten unbemerkte Schäden entstehen, wenn beispielsweise eine Temperaturschwelle überschritten wird.

| Attribut      | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Szenarioname  | System-Resilienz                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Quelle        | Ein interner Fehlerzustand                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Stimulus      | Ein unerwarteter Ausfall einer kritischen Komponente, z.B. der Absturz der Server-Anwendung, ein "Einfrieren" des Mikrocontrollers oder ein temporärer Verlust der Netzwerkverbindung.                                                                                                                                                                                                                                                                     |
| Artefakt      | Die gesamte Systeminfrastruktur: Sensor-Einheit (Hardware), Software-Plattform (Backend) und die Kommunikationskanäle.                                                                                                                                                                                                                                                                                                                                                                            |
| Umgebung      | Das System befindet sich im produktiven Normalbetrieb.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Reaktion      | Das System leitet automatisch Maßnahmen zur Wiederherstellung der vollen Funktionsfähigkeit ein. Diese Maßnahmen umfassen insbesondere:<br>- Automatisierte Neustarts: Software-Dienste werden durch Prozess-Manager (z.B. systemd) und Mikrocontroller durch Hardware-Watchdog-Timer bei einem Absturz sofort neu gestartet.<br>- Robuste Wiederverbindungslogik: Das System versucht bei einem Verbindungsabbruch (z.B. zum WLAN oder MQTT-Broker) proaktiv und in regelmäßigen Intervallen, die Verbindung wiederherzustellen.<br>- Zustandsüberwachung (Health Check): Intern lässt sich der Zustand der Anwendung überprüfen. |
| Reaktionsmaß  | Kritische Systemkomponenten stellen ihre Funktionsfähigkeit nach einem behebbaren Ausfall automatisch und ohne manuellen Eingriff wieder her.<br>Ein Administrator wird über den Vorfall und die erfolgreiche Wiederherstellung informiert.                                                                                                                                                                                                                                                        |


### Szenario 2: 99% Systemverfügbarkeit
Das System ist im produktiven Einsatz. Das folgende Szenario zeigt die im Szenario 1 beschriebene Maßnahme zur automatischen Wiederherstellung und Fehlertoleranz.

| Attribut      | Beschreibung                                                                                                                                                                                                                                                                                                                                                         |
|---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Szenarioname  | Systemverfügbarkeit                                                                                                                                                                                                                                                                                                                                                  |
| Quelle        | Ein interner Fehlerzustand                                                                                                                                                                                                                                                                                                                                           |
| Stimulus      | Das System stürzt während des laufenden Betriebs ab, während Umweltdaten erfasst werden.                                                                                                                                                                                                                                                                             |
| Artefakt      | Die Serveranwendungen, die MQTT-Nachrichten verarbeitet und Daten speichert.                                                                                                                                                                                                                                                                                         |
| Umgebung      | Das System befindet sich im produktiven Normalbetrieb.                                                                                                                                                                                                                                                                                                               |
| Reaktion      | Der Absturz wird erkannt. Innerhalb weniger Sekunden erfolgen bis zu drei automatische Neustartversuche. Gelingt ein Neustart, werden MQTT-Client und Datenbankverbindung reinitialisiert. Daten gehen nicht verloren, falls das Backend (FastAPI App) abstürzt. Die Anzeige im Dashboard wird nach kurzer Unterbrechung automatisch aktualisiert.                   |
| Reaktionsmaß  | Die Anwendung ist innerhalb von 90 Sekunden wieder voll funktionsfähig, ein manuelles Eingreifen ist nicht erforderlich. Die durchgängige Verfügbarkeit bleibt erhalten - die Ausfallzeit liegt unterhalb der zulässigen 1% in einem Zeitraum von 72 Stunden. Daten, die während des Absturzes des Backends (FastAPI App) aufgezeichnet wurden, werden nachgereicht. |

# Einflussfaktoren
## Technisch
- Hardware: Arduino-Mikrocontroller mit fünf angeschlossenen Sensoren, die folgende Daten liefern: Temperaturmesswert, Luftfeuchtigkeitsmesswert, Kohlenstoffdioxidmesswert, Ultraschallabstandswert.
- Gestellter MQTT-Broker nach Publisher/Subscriber-Muster.

## Organisatorisch
- Entwicklungszeit: ~2 Monate
- Teamgröße: 4 Personen
- Scrum: 1-wöchiger Sprintrhythmus
